## 小米下载国外版商店主题并提取

</br>

更新时间：2022/12/6

参考酷安教程：https://www.coolapk.com/feed/34962956?shareKey=MTYxMWU0N2MzY2FlNjM4NWMzOGU


本教程仅演示官方主题下载，未上架的第三方主题直接装会还原默认，需要安装防退回模块，相对麻烦点，本人不是那么爱折腾，过度美化的尽头就是腻

</br>
</br>


## 准备工具

</br>

* [shizuku](https://www.coolapk.com/apk/moe.shizuku.privileged.api)

* [安装狮](https://www.coolapk.com/apk/com.modosa.apkinstaller)

* [小米商店国际版](https://dzp.lanzouy.com/i0MXx0hr29gh)

* [小米商店](https://dzp.lanzouy.com/ieYxo0hr29ij)

* [Blurone](https://dzp.lanzouy.com/iE6VV0ir0myh)「dock栏可选」


</br>
</br>


## 1.设置

</br>

设置-更多设置-开发者选项

> 没有开发者选项的，先在设置-个人头像-我的设备-全部参数-连点3次miui版本即可开启

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-01.png)


下拉打开 `USB调试等` 和 `停用adb授权超时` 如图

> 不打开会产生各种问题

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-02.png)

</br>
</br>


## 2.安装工具

</br>


* 下载安装 shizuku：https://www.coolapk.com/apk/moe.shizuku.privileged.api

* 下载安装 安装狮：https://www.coolapk.com/apk/com.modosa.apkinstaller

> 主要是通过他们来安装主题商店因为无法直接安装

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-03.png)

打开Shizuku，下拉 配对

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-04.png)

提示 `通知设置` 的先允许通知

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-05.png)


点击 `开发者选项` 打开 `无线调试` 开关，允许

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-06.png)


进入无线调试- `使用配对码配对设备` 

> 记住配对码，要用的

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-07.png)

通知栏下拉 输入 `配对码`，配对成功即可

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-08.png)

返回Shizuku，点 `启动`

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-09.png)

启动完成后点击 `已授权应用`，打开 `安装狮`开关

> 安装狮界面 `安装狮-Shizuju开关是开启的即可`

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-10.png)

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-11.png)


</br>
</br>


## 3.安装主题商店

</br>

* 下载：小米商店国际版：https://dzp.lanzouy.com/i0MXx0hr29gh

* 下载：小米商店国内版：https://dzp.lanzouy.com/ieYxo0hr29ij



先安装国际版，在下载的文件夹长按下载好的文件 - 发送 - 选择 `安装狮-Shizuku`

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-12.png)

安装完成后，打开主题商店

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-13.png)

搜 `Nero 16` 、`polos` 、 `BoSe UI V13`这3个主题，下载后暂时不要应用

> 主要是用来演示，下载其他的喜欢也可以的
> 
> Nero 16d的全局；polos的桌面；BoSe的图标

```
## 直链下载，失效了就在本仓库文件夹里下

https://f17.market.xiaomi.com/issue/ThemeMarket/02f35cf04c6844f53b61c54caeed128805ab2ba4a/Nero+16.mtz

https://f17.market.xiaomi.com/issue/ThemeMarket/0ad2817b6ff7143d3934d13d48c3bc31e91ffd6b9/Evo+2022.mtz

https://f17.market.xiaomi.com/issue/ThemeMarket/011cfdac419854d4581014d6d7b894fb1a64897ec/POLOS.mtz

https://f17.market.xiaomi.com/issue/ThemeMarket/027fe6a62ba5b4c44990b8348abbefb2fe2f2a838/BoSe+UI+V13.mtz

https://f17.market.xiaomi.com/issue/ThemeMarket/0ec440cd26ed14ae28ca7920258b2d1646fc4eb3c/AP14%E8%B6%85%E7%BA%A7%E6%99%AF%E6%B7%B1.mtz

```

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-14.png)


同样的步骤，我们把国内版的主题商店安装回来，长按勾选国内版主题商店-选择`安装狮-Shizuku`

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-15.png)

进入商店-主题-点击下载好的主题-混搭，勾选想要的应用即可

> 国际版的混搭在这里改，混搭模块里改会出现应用不上的情况

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-16.png)

最后的半成品，用的也就这些了，其他好的主题都下架了，大家早下载早备份

> 其他小组件的我就没弄了，可以看作者教程
>
> Blurone就不讲了比较简单

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-17.png)


![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-18.png)




</br>
</br>




## 4.提取主题(无需求可无视)

</br>

建议未下架前，下载进行备份，若无必要，不建议花大量时间去做下架后的资源整合包


### 4.1 主题未下架

</br>

先点一下下载，然后立马开飞行模式

> 如果慢了已经下载完了，删掉重新下

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-19.png)

打开`下载管理`，未完成的任务进去，里面的下载链接复制出来就可以了，mtz格式可以直接导入

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-20.png)

</br>

### 4.2 主题已下架

</br>

如果你有大量的时间，和十分喜爱此主题，就用这个笨方法


MT管理器进入主题目录

> content是主题参数，preview是主题图
>
> 找不到目录，MT右上角打开 `隐藏文件` 开关

```
内部存储/Android/date/com.android.thememannager/files/MIUI/theme/.date/
```

把 `content` 和 `preview` 两个文件夹都复制放到 `Download` 里(方便查看和导入)，我这里是新建了文件夹12-5单独放，按时间顺序筛选出即可

> 不确定是哪个的，看一下preview主题图里的图片，并记住精确的小时和分钟

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-21.png)


请按照下面表格，对应放的目录，放错就导入不进去了


<details>
<summary>主题mtz目录对照表 [展开]</summary>

</br>

| preview目录 | 对应 | mtz目录 |
|:-:|:-:|:-:|
| theme/某个文件夹/*.png | ☛ | preview/**.png |
| |
| **content目录** | **对应** | **mtz目录** |
| clock_2x4/*.mrc | ☛ | clock_2x4 |
| contact/*.mrc | ☛ | com.android.contacts |
| framework/*.mrc | ☛ | framework-res |
| framework-miui-res/*.mrc | ☛ | framework-miui-res |
| icons/*.mrc | ☛ | icons |
| launcher/*.mrc | ☛ | com.miui.home |
| lockscreen/*mrc | ☛ | wallpaper/default_lock_wallpaper.jpg |
| lockstyle/*.mrc | ☛ | lockscreen |
| miui.systemui.plugin/*.mrc | ☛ | miui.systemui.plugin |
| miwallpaper/*.mrc | ☛ | miwallpaper |
| mms/*.mrc | ☛ | com.android.mms |
| notification/*.mrc | ☛ | ringtones/notification.mp3 |
| statusbar/*.mrc | ☛ | com.android.systemui |
| wallpaper/*mrc | ☛ | wallpaper/default_wallpaper.jpg |
||
| com.android.deskclock/*mrc | ☛ | com.android.deskclock |
| com.android.fileexplorer/*mrc | ☛ | com.android.fileexplorer |
| com.android.incallui/*mrc | ☛ | com.android.incallui |
| com.android.mipop/*mrc | ☛ | com.android.mipop |
| com.android.permissioncontroller/*mrc | ☛ | com.android.permissioncontroller |
| com.android.phone/*mrc | ☛ | com.android.phone |
| com.android.providers.downloads/*mrc | ☛ | com.android.providers.downloads |
| com.android.providers.downloads.ui/*mrc | ☛ | com.android.providers.downloads.ui |
| com.android.server.telecom/*mrc | ☛ | com.android.server.telecom |
| com.android.settings/*.mrc | ☛ | com.android.settings |
| com.android.soundrecorder/*.mrc | ☛ | com.android.soundrecorder |
| com.android.stk/*.mrc | ☛ | com.android.stk |
| com.android.thememanager/*.mrc | ☛ | com.android.thememanager |
| com.android.updater/*.mrc | ☛ | com.android.updater |
| |
| com.duokan.phone.remotecontroller/*.mrc | ☛ | com.duokan.phone.remotecontroller |
| com.google.android.apps.photos/*.mrc | ☛ | com.google.android.apps.photos |
| com.google.android.googlequicksearchbox/*.mrc | ☛ | com.google.android.googlequicksearchbox |
| com.maxmpz.audioplayer/*.mrc | ☛ | com.maxmpz.audioplayer |
| |
| com.mi.android.globalFileexplorer/*.mrc | ☛ | com.mi.android.globalFileexplorer |
| com.mi.android.globallauncher/*.mrc | ☛ | com.mi.android.globallauncher |
| com.mi.global.bbs/*.mrc | ☛ | com.mi.global.bbs |
| com.milink.service/*.mrc | ☛ | com.milink.service |
| com.miui.bugreport/*.mrc | ☛ | com.miui.bugreport |
| com.miui.calculator/*.mrc | ☛ | com.miui.calculator |
| com.miui.cloudbackup/*.mrc | ☛ | com.miui.cloudbackup |
| com.miui.cloudservice/*.mrc | ☛ | com.miui.cloudservice |
| com.miui.compass/*.mrc | ☛ | com.miui.compass |
| com.miui.fm/*.mrc | ☛ | com.miui.fm |
| com.miui.miservice/*.mrc | ☛ | com.miui.miservice |
| com.miui.mishare.connectivity/*.mrc | ☛ | com.miui.mishare.connectivity |
| com.miui.misound/*.mrc | ☛ | com.miui.misound |
| com.miui.notes/*.mrc | ☛ | com.miui.notes |
| com.miui.notification/*.mrc | ☛ | com.miui.notification |
| com.miui.personalassistant/*.mrc | ☛ | com.miui.personalassistant |
| com.miui.player/*.mrc | ☛ | com.miui.player |
| com.miui.screenrecorder/*.mrc | ☛ | com.miui.screenrecorder |
| com.miui.securitycenter/*.mrc | ☛ | com.miui.securitycenter |
| com.miui.securitycore/*.mrc | ☛ | com.miui.securitycore |
| com.miui.touchassistant/*.mrc | ☛ | com.miui.touchassistant |
| com.miui.virtualsim/*.mrc | ☛ | com.miui.virtualsim |
| com.mxtech.videoplayer.ad/*.mrc | ☛ | com.mxtech.videoplayer.ad |
| com.xiaomi.account/*.mrc | ☛ | com.xiaomi.account |
| com.xiaomi.calendar/*.mrc | ☛ | com.xiaomi.calendar |
| com.xiaomi.discover/*.mrc | ☛ | com.xiaomi.discover |
| com.xiaomi.finddevice/*.mrc | ☛ | com.xiaomi.finddevice |
| com.xiaomi.market/*.mrc | ☛ | com.xiaomi.market |
| com.xiaomi.mipicks/*.mrc | ☛ | com.xiaomi.mipicks |
| com.xiaomi.misettings/*.mrc | ☛ | com.xiaomi.misettings |
| |
| 重要：请下面格式 | ☟ | description.xml |


`description.xml` 代码内容如下，自己改一下

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<theme>
<version><![CDATA[版本号]]></version>
<uiVersion>10</uiVersion>
<author><![CDATA[作者名]]></author>
<designer><![CDATA[作者名]]></designer>
<title><![CDATA[主题名]]></title>
<description><![CDATA[资源简介]]></description>
<authors>
<author locale="zh_CN"><![CDATA[作者名]]></author>
</authors>
<designers>
<designer locale="zh_CN"><![CDATA[作者名]]></designer>
</designers>
<titles>
<title locale="zh_CN"><![CDATA[主题名]]></title>
</titles>
<descriptions>
<description locale="zh_CN"><![CDATA[资源简介]]></description>
</descriptions>
<miuiAdapterVersion>2.0</miuiAdapterVersion>
</theme>

```

</details>

</br>




<details>
<summary>字体mtz目录对照表 [展开]</summary>

</br>

```
## 直链下载，失效了就在本仓库文件夹里下

https://f17.market.xiaomi.com/issue/ThemeMarket/0c153e946168c49ff9eac8a0559fd030b4730e498/%C4%B0os16.mtz

https://f17.market.xiaomi.com/issue/ThemeMarket/01aaf1c199e664bf6a93bdc17fa9beb3e41ec37b6/Pingfang.mtz
```


| preview目录 | 对应 | mtz目录 |
|:-:|:-:|:-:|
| preview/theme/某个文件夹/*.png | ☛ | preview/**.png |
| **content目录** | **对应** | **mtz目录** |
| fonts/*.mrc | ☛ | fonts/**.ttf |
| |
| 重要：请下面格式 | ☟ | description.xml |


`description.xml` 代码内容如下，自己改一下

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<theme>
<version><![CDATA[版本号]]></version>
<uiVersion>10</uiVersion>
<author><![CDATA[作者名]]></author>
<designer><![CDATA[设计者名]]></designer>
<title><![CDATA[default]]></title>
<description><![CDATA[default]]></description>
<authors>
<author locale="en_US"><![CDATA[作者名]]></author>
<author locale="zh_CN"><![CDATA[作者名]]></author>
</authors>
<designers>
<designer locale="en_US"><![CDATA[设计者名]]></designer>
<designer locale="zh_CN"><![CDATA[设计者名]]></designer>
</designers>
<titles>
<title locale="en_US"><![CDATA[字体名]]></title>
<title locale="zh_CN"><![CDATA[default]]></title>
</titles>
<descriptions>
<description locale="en_US"><![CDATA[字体名]]></description>
<description locale="zh_CN"><![CDATA[default]]></description>
</descriptions>
<miuiAdapterVersion/>
</theme>

```

</details>

</br>


整理完毕后，右上角全选，长按文件 `压缩`，命名为 **.mtz

> mtz就是主题包的格式，字体也一样的

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-22.png)


回到我的主题，从SD卡导入，选择 `Download` 刚刚导出的 **.mtz 主题包

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-23.png)

这样我们的主题就提取完成，并可以使用了

![](https://ghproxy.com/https://raw.githubusercontent.com/Yiov/notes/main/mi_theme/mi_theme-24.png)




## 特别鸣谢

* [B站小慈学长](https://www.coolapk.com/feed/34962956?shareKey=MTYxMWU0N2MzY2FlNjM4NWMzOGU)



